<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <title>Familiada</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: Arial, sans-serif;
      background: linear-gradient(to right, #d40000, #000033, #0033cc);
      color: #fff;
      padding: 20px;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      transition: padding-top 0.3s ease;
      position: relative;
    }

    body.fullscreen-active {
      padding-top: 120px;
    }

    #game-title {
      font-size: 64px;
      font-weight: bold;
      letter-spacing: 4px;
      background: #FFEA00;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      margin-bottom: 20px;
      text-align: center;
      width: 100%;
    }

    .config-container {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 40px;
      margin-bottom: 20px;
      width: 100%;
      max-width: 100%;
      padding: 0 20px;
    }

    .team-inputs {
      display: flex;
      flex-direction: column;
      gap: 40px;
      align-items: flex-start;
      margin-left: 20px;
    }

    .team-input {
      width: 320px;
      text-align: center;
    }

    .team-input label {
      font-size: 20px;
      margin-bottom: 20px;
      display: block;
    }

    .team-input input {
      width: 100%;
      padding: 12px;
      height: 48px;
      font-size: 18px;
      border-radius: 8px;
      border: 4px solid #FFEA00;
      box-shadow: 0 0 20px #FFEA00;
      outline: none;
    }

    .section-title {
      font-size: 20px;
      text-align: center;
      margin-bottom: 20px;
    }

    .button-group {
      display: flex;
      flex-direction: column;
      gap: 20px;
      width: 100%;
    }

    button {
      background-color: #000;
      border: 4px solid #fff;
      color: #FFFF33;
      font-family: 'Courier New', monospace;
      font-size: 20px;
      padding: 10px 30px;
      border-radius: 8px;
      box-shadow: 0 0 10px #FFD700;
      cursor: pointer;
      transition: background-color 0.3s, border-color 0.3s, box-shadow 0.3s;
      min-width: 280px;
      text-align: center;
      text-transform: capitalize;
    }

    #roundsGroup button,
    #timeGroup button {
      min-width: 120px;
      font-size: 16px;
      padding: 8px 20px;
    }

    #starterGroup button,
    #finalGroup button {
      min-width: 280px;
    }

    #starterGroup, #finalGroup {
      align-items: center;
    }

    button:hover {
      background-color: #111;
      border-color: #FFEA00;
      box-shadow: 0 0 20px #FFEA00;
    }

    button.active {
      background-color: #fff;
      color: #000;
      border-color: #FFEA00;
      box-shadow: 0 0 20px #FFEA00;
    }

    #config-buttons {
      display: flex;
      flex-direction: column;
      gap: 20px;
      margin-bottom: 20px;
      justify-content: center;
      align-items: center;
      width: 100%;
      max-width: 100%;
      padding: 0 20px;
    }

    .button-row {
      display: flex;
      gap: 20px;
      justify-content: center;
      width: 100%;
      max-width: 620px;
    }

    .button-row button {
      flex: 1 1 45%;
      max-width: 300px;
    }

    #nextBtn-container {
      margin: 20px 0;
      display: flex;
      justify-content: center;
      width: 100%;
      max-width: 100%;
    }

    #instructions-screen {
      display: none;
      flex-direction: column;
      align-items: center;
      width: 100%;
      max-width: 100%;
      gap: 20px;
      padding: 0 20px;
    }

    #instructions-text {
      font-size: clamp(16px, 2.5vw, 17px);
      line-height: 1.5;
      text-align: justify;
      white-space: pre-wrap;
      width: 100%;
    }

    #game-container {
      display: none;
      flex-direction: column;
      align-items: center;
      gap: 20px;
      width: 100%;
      max-width: 100%;
      padding: 0 20px;
    }

    #logo-container {
      position: absolute;
      bottom: 10px;
      right: 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 5px;
    }

    #logo {
      width: 150px;
    }

    #website-link {
      color: #fff;
      font-size: 14px;
      text-align: center;
    }

    .container {
      position: relative;
      width: 800px;
      height: 500px;
      background: radial-gradient(circle, #fff 10%, transparent 70%);
      border-radius: 50px 50px 100px 100px;
      overflow: hidden;
      box-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
    }

    .top-bar {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 80px;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 0 20px;
      z-index: 2;
    }

    .score {
      font-size: 60px;
      font-weight: bold;
      text-shadow: 0 0 10px #FFFF00;
      letter-spacing: 5px;
    }

    .board {
      position: absolute;
      top: 100px;
      left: 50%;
      transform: translateX(-50%);
      width: 600px;
      height: 300px;
      background: #000;
      border: 2px solid #000;
      padding: 20px;
      display: grid;
      grid-template-rows: repeat(6, 1fr);
      gap: 10px;
      font-size: 24px;
      text-transform: uppercase;
      letter-spacing: 2px;
      background-image: 
        repeating-linear-gradient(0deg, transparent, transparent 4px, #222 4px, #222 5px),
        repeating-linear-gradient(90deg, transparent, transparent 4px, #222 4px, #222 5px);
      background-size: 5px 5px;
    }
  </style>
</head>
<body>
  <h1 id="game-title">FAMILIADA</h1>
  <div id="config-buttons">
    <div class="button-row">
      <button id="instructionsBtn">Instrukcja</button>
      <button id="configFullscreenBtn">Pełny ekran</button>
    </div>
    <div class="button-row">
      <button id="ownQuestionsBtn">Własne pytania</button>
      <button id="readyQuestionsBtn">Gotowe pytania</button>
    </div>
  </div>

  <div id="config-screen">
    <div class="config-container">
      <div class="team-inputs">
        <div class="team-input">
          <label for="team1">Nazwy drużyn</label>
          <input type="text" id="team1" maxlength="18" placeholder="Wpisz nazwę drużyny nr 1">
          <input type="text" id="team2" maxlength="18" placeholder="Wpisz nazwę drużyny nr 2">
        </div>
      </div>
      <div>
        <div class="section-title">Która drużyna ma rozpocząć grę?</div>
        <div class="button-group" id="starterGroup">
          <button id="btnTeam1">Drużyna 1</button>
          <button id="btnTeam2">Drużyna 2</button>
        </div>
        <div class="section-title">Czy po rozegranych rundach ma nastąpić finał?</div>
        <div class="button-group" id="finalGroup">
          <button data-final="tak">Tak</button>
          <button data-final="nie">Nie</button>
        </div>
        <div class="section-title">Ile rund ma trwać rozgrywka?</div>
        <div class="button-group" id="roundsGroup">
          <button data-rounds="3">3 rundy</button>
          <button data-rounds="5">5 rund</button>
          <button data-rounds="7">7 rund</button>
          <button data-rounds="9">9 rund</button>
        </div>
        <div class="section-title">Jaki ma być czas na podanie odpowiedzi?</div>
        <div class="button-group" id="timeGroup">
          <button data-time="15">15 sek.</button>
          <button data-time="30">30 sek.</button>
          <button data-time="60">60 sek.</button>
          <button data-time="0">Bez czasu</button>
        </div>
      </div>
    </div>
    <div id="nextBtn-container">
      <button id="nextBtn">Dalej</button>
    </div>
  </div>

  <div id="instructions-screen">
    <div id="instructions-text">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</div>
    <button id="instructionsReturnBtn">Powrót</button>
  </div>

  <div id="game-container">
    <div class="container">
      <div class="top-bar">
        <div class="score">160</div>
      </div>
      <div class="board"></div>
    </div>
    <button id="returnBtn">Powrót</button>
  </div>

  <div id="logo-container">
    <img id="logo" src="familiada/logo.png" alt="Logo">
    <div id="website-link">WWW.MUZYKAMIKROFONACKJA.PL</div>
  </div>

  <script>
    const configScreen = document.getElementById("config-screen");
    const team1Input = document.getElementById("team1");
    const team2Input = document.getElementById("team2");
    const starterGroup = document.getElementById("starterGroup");
    const roundsGroup = document.getElementById("roundsGroup");
    const finalGroup = document.getElementById("finalGroup");
    const timeGroup = document.getElementById("timeGroup");
    const nextBtn = document.getElementById("nextBtn");
    const configFullscreenBtn = document.getElementById("configFullscreenBtn");
    const instructionsBtn = document.getElementById("instructionsBtn");
    const instructionsScreen = document.getElementById("instructions-screen");
    const instructionsReturnBtn = document.getElementById("instructionsReturnBtn");
    const gameContainer = document.getElementById("game-container");
    const returnBtn = document.getElementById("returnBtn");

    let team1Name = "Drużyna 1";
    let team2Name = "Drużyna 2";
    let startingTeam = null;
    let rounds = null;
    let finalIncluded = null;
    let answerTime = null;

    const activateSingleButton = (group, btn) => {
      group.querySelectorAll("button").forEach(b => b.classList.remove("active"));
      btn.classList.add("active");
    };

    const updateButtonLabels = () => {
      document.getElementById("btnTeam1").textContent = team1Input.value.trim() || "Drużyna 1";
      document.getElementById("btnTeam2").textContent = team2Input.value.trim() || "Drużyna 2";
    };

    team1Input.addEventListener("input", updateButtonLabels);
    team2Input.addEventListener("input", updateButtonLabels);

    starterGroup.addEventListener("click", e => {
      if (e.target.tagName === "BUTTON") {
        activateSingleButton(starterGroup, e.target);
        startingTeam = e.target.id === "btnTeam1" ? 1 : 2;
      }
    });

    roundsGroup.addEventListener("click", e => {
      if (e.target.tagName === "BUTTON") {
        activateSingleButton(roundsGroup, e.target);
        rounds = parseInt(e.target.dataset.rounds);
      }
    });

    finalGroup.addEventListener("click", e => {
      if (e.target.tagName === "BUTTON") {
        activateSingleButton(finalGroup, e.target);
        finalIncluded = e.target.dataset.final === "tak";
      }
    });

    timeGroup.addEventListener("click", e => {
      if (e.target.tagName === "BUTTON") {
        activateSingleButton(timeGroup, e.target);
        answerTime = parseInt(e.target.dataset.time) || 0;
      }
    });

    const showConfigScreen = () => {
      configScreen.style.display = "block";
      instructionsScreen.style.display = "none";
      gameContainer.style.display = "none";
      document.getElementById("config-buttons").style.display = "flex";
      team1Input.value = "";
      team2Input.value = "";
      starterGroup.querySelectorAll("button").forEach(btn => btn.classList.remove("active"));
      roundsGroup.querySelectorAll("button").forEach(btn => btn.classList.remove("active"));
      finalGroup.querySelectorAll("button").forEach(btn => btn.classList.remove("active"));
      timeGroup.querySelectorAll("button").forEach(btn => btn.classList.remove("active"));
      startingTeam = null;
      rounds = null;
      finalIncluded = null;
      answerTime = null;
      updateButtonLabels();
    };

    const showInstructionsScreen = () => {
      configScreen.style.display = "none";
      instructionsScreen.style.display = "flex";
      gameContainer.style.display = "none";
      document.getElementById("config-buttons").style.display = "none";
    };

    const showGameScreen = () => {
      configScreen.style.display = "none";
      instructionsScreen.style.display = "none";
      gameContainer.style.display = "flex";
      document.getElementById("config-buttons").style.display = "none";
      team1Name = team1Input.value.trim() || "Drużyna 1";
      team2Name = team2Input.value.trim() || "Drużyna 2";
    };

    nextBtn.addEventListener("click", showGameScreen);
    instructionsBtn.addEventListener("click", showInstructionsScreen);
    instructionsReturnBtn.addEventListener("click", showConfigScreen);
    returnBtn.addEventListener("click", showConfigScreen);

    const toggleFullscreen = () => {
      if (!document.fullscreenElement) {
        document.documentElement.requestFullscreen();
      } else {
        document.exitFullscreen();
      }
    };

    configFullscreenBtn.addEventListener("click", toggleFullscreen);

    document.addEventListener("fullscreenchange", () => {
      if (document.fullscreenElement) {
        configFullscreenBtn.textContent = "Podstawowy ekran";
        document.body.classList.add("fullscreen-active");
      } else {
        configFullscreenBtn.textContent = "Pełny ekran";
        document.body.classList.remove("fullscreen-active");
      }
    });

    updateButtonLabels();
    configScreen.style.display = "block";
    instructionsScreen.style.display = "none";
    gameContainer.style.display = "none";
    document.getElementById("config-buttons").style.display = "flex";
  </script>
</body>
</html>
